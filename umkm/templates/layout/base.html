<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dapur UMKM</title>
    <link rel="stylesheet" href="/static/css/main.css" />
  </head>
  <body>
    <div id="page-loader">
      <img src="/static/img/logo.png" alt="Loading..." />
    </div>

    <!-- HEADER -->
    <header class="main-header">
      {% if not plain_page %}
      <nav class="main-navbar">
        <div class="logo">
          <div class="head">
            <a href="/"><img src="/static/img/logo.png" alt="logo" /></a>
            <a href="/">DAPURKU</a>
          </div>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="svg-20"
          >
            <path
              fill-rule="evenodd"
              d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z"
              clip-rule="evenodd"
            />
          </svg>
        </div>
        <div class="links">
          <a href="/frontpage" class="nav-link">Beranda</a>
          <a href="/about" class="nav-link">Tentang Kami</a>
          <a href="/" class="nav-link">Produk</a>
          <a href="/contact" class="nav-link">Kontak</a>
        </div>
        <a href="{% url 'profile' %}"
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="svg-25"
          >
            <path
              fill-rule="evenodd"
              d="M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z"
              clip-rule="evenodd"
            />
          </svg>
          <span>{{user.username}}</span>
        </a>
      </nav>
      {% endif %}
      <!--  -->
      {% if page == "front" or page == "products" %}
      <div class="jumbotron">
        {% if page == "front" %}
        <div class="texts">
          <h1>Selamat datang di Dapurku</h1>
          <span
            >Membangun Ekonomi Lokal Melalui Kreativitas dan Inovasi
            Kuliner</span
          >
          <p>
            Dapur UMKM adalah tempat di mana cita rasa lokal bertemu dengan
            peluang global. Kami hadir untuk mendukung pelaku UMKM kuliner Kota
            Bogor dalam mempromosikan produk terbaik mereka, menjangkau lebih
            banyak pelanggan, dan mengembangkan usaha secara berkelanjutan.
          </p>
        </div>
        {% elif page == "products" %}
        <div class="recc">
          <div class="detail-product">
            <button>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="svg-25"
              >
                <path
                  fill-rule="evenodd"
                  d="M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z"
                  clip-rule="evenodd"
                />
              </svg>
            </button>
            <button>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="svg-25"
              >
                <path
                  fill-rule="evenodd"
                  d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z"
                  clip-rule="evenodd"
                />
              </svg>
            </button>

            <span>Recommendation Product</span>
            <span class="price">Rp 999,00</span>
            <p>{% lorem 1 b random %}</p>
            <a href="#" class="btn">Lihat Detail</a>
          </div>
          <img src="/static/img/food.jpg" alt="foodImg" class="product-image" />
        </div>
        {% endif %}
      </div>
      {% endif %}
    </header>

    <!-- MAIN CONTENT -->
    <main>{% block content %}{% endblock %}</main>

    <!-- CART POPUP -->
    {% if not plain_page %}
    <a href="{% url 'cart' %}" class="cartpage-btn">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="currentColor"
        class="svg-25"
      >
        <path
          d="M2.25 2.25a.75.75 0 0 0 0 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.752 3.752 0 0 0-2.806 3.63c0 .414.336.75.75.75h15.75a.75.75 0 0 0 0-1.5H5.378A2.25 2.25 0 0 1 7.5 15h11.218a.75.75 0 0 0 .674-.421 60.358 60.358 0 0 0 2.96-7.228.75.75 0 0 0-.525-.965A60.864 60.864 0 0 0 5.68 4.509l-.232-.867A1.875 1.875 0 0 0 3.636 2.25H2.25ZM3.75 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"
        />
      </svg>
    </a>

    <!-- FOOTER -->
    <footer>
      <div class="contact">
        <div class="row">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="svg-25"
          >
            <path
              d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"
            />
            <path
              d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"
            />
          </svg>
          <span>dapurumkm@gmail.com</span>
        </div>
        <div class="row">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="svg-25"
          >
            <path
              fill-rule="evenodd"
              d="M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z"
              clip-rule="evenodd"
            />
          </svg>
          <span>+1 234 567 890</span>
        </div>
      </div>
      <span>&copy; 2025 Dapur UMKM. All Rights Reserved.</span>
    </footer>
    {% endif %}

    <!-- JS -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // LOADER
        window.addEventListener("load", () => {
          const loader = document.getElementById("page-loader");
          if (loader) {
            loader.style.opacity = "0";
            loader.style.pointerEvents = "none";
            setTimeout(() => loader.remove(), 500);
          }
        });

        // NAVBAR SCROLL
        const navbar = document.querySelector(".main-navbar");
        const jumbotron = document.querySelector(".jumbotron");

        if (!navbar) return;

        const navbarHeight = navbar.offsetHeight;

        if (jumbotron) {
          jumbotron.style.height = `calc(100vh - ${navbarHeight}px)`;
        }

        const handleScroll = () => {
          const scrolled = window.scrollY > 10;

          navbar.classList.toggle("scrolled", scrolled);

          if (jumbotron) {
            jumbotron.style.height = scrolled
              ? "100vh"
              : `calc(100vh - ${navbarHeight}px)`;
          }
        };

        window.addEventListener("scroll", handleScroll, { passive: true });

        // NAVBAR DROPDOWN TOGGLE

        let isDrop = false;

        const mainNavbar = document.querySelector(".main-navbar");
        const profileBtn = document.querySelector(".main-navbar > a");
        const dropBtn = mainNavbar.querySelector(".logo svg");
        const navLinks = mainNavbar.querySelector(".links");

        window.addEventListener("resize", () => {
          if (window.innerWidth > 468) {
            isDrop = false;
            navLinks.style.opacity = "1";
            profileBtn.style.opacity = "1";
            navbar.style.height = "auto";
          } else {
            isDrop = true;
            navLinks.style.opacity = "0";
            profileBtn.style.opacity = "0";
            mainNavbar.style.height = "74px";
          }
        });

        dropBtn.addEventListener("click", () => {
          if (!isDrop) {
            isDrop = true;
            navLinks.style.opacity = "0";
            profileBtn.style.opacity = "0";
            mainNavbar.style.height = "74px";
          } else {
            isDrop = false;
            navLinks.style.opacity = "1";
            profileBtn.style.opacity = "1";
            mainNavbar.style.height = "222px";
          }
        });
      });
    </script>
    {% block script %}{% endblock %}
  </body>
</html>
